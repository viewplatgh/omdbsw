(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(42)},37:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(25),l=a.n(c),s=a(13),i=a(7),o=a(27),u=(a(37),a(38),a(10)),m=a(11),p=a(14),E=a(12),d=a(15),h=(a(39),"SEARCH_OMDB"),b="UPDATE_SEARCH_RESULT",f="ADD_TO_WATCHLIST",w="REMOVE_FROM_WATCHLIST",y="LOAD_WATCHLIST";function O(){return r.a.createElement("div",{className:"tile is-ancestor",style:{marginTop:20}},r.a.createElement("div",{className:"tile is-parent is-12"},r.a.createElement("div",{className:"tile is-child"},r.a.createElement("p",{className:"title"},"OMDB api demo made by Rob Lao"))))}var v=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement("table",{className:"table",style:{marginLeft:"auto",marginRight:"auto"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null)),r.a.createElement("th",null,r.a.createElement("b",null,"Poster")),r.a.createElement("th",null,r.a.createElement("b",null,"Title")),r.a.createElement("th",null,r.a.createElement("b",null,"Year")),r.a.createElement("th",null,r.a.createElement("b",null,"Type")),r.a.createElement("th",null,r.a.createElement("b",null,"IMDB ID")),r.a.createElement("th",null,r.a.createElement("b",null)))),r.a.createElement("tbody",null,this.props.watchlist.length>0?this.props.watchlist.map(function(t,a){return r.a.createElement("tr",{key:"".concat(t.imdbID)},r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("figure",{className:"image is-48x48"},r.a.createElement("img",{src:t.Poster,alt:t.Title}))),r.a.createElement("td",null,t.Title),r.a.createElement("td",null,t.Year),r.a.createElement("td",null,t.Type),r.a.createElement("td",null,t.imdbID),r.a.createElement("td",null,r.a.createElement("button",{className:"button is-danger",onClick:function(t){e.props.onRemoveFromWatchlist(a)}},"Delete")))}):r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement("p",null,"Empty watchlist")),r.a.createElement("td",null,r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement("p",null))))))))}}]),t}(n.Component),j=Object(s.b)(function(e){return{watchlist:e.watchlist}},function(e){return{onRemoveFromWatchlist:function(t){return e(function(e){return{type:w,index:e}}(t))}}})(v),k=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e,t=this,a=[];for(e=0;e<this.props.result.length;e+=4)a.push(this.props.result.slice(e,e+4));return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement("nav",{className:"level"},r.a.createElement("div",{className:"level-item"},r.a.createElement("div",{className:"field has-addons"},r.a.createElement("p",{className:"control"},r.a.createElement("input",{className:"input",type:"text",placeholder:"Type anything to search...",ref:function(e){return t.keywordRef=e},size:"50",onKeyDown:function(e){"Enter"===e.key&&t.searchRef.click()}})),r.a.createElement("p",{className:"control"},r.a.createElement("button",{className:"button is-primary",ref:function(e){return t.searchRef=e},onClick:function(e){t.keywordRef.value.trim()&&t.props.onDispatchSearch(t.keywordRef.value.trim())}},"Search")))))),r.a.createElement("section",{className:"section"},a.map(function(e,a){return r.a.createElement("div",{className:"tile is-ancestor",key:"anc-".concat(a)},e.map(function(e,n){return r.a.createElement("div",{className:"tile is-parent is-".concat(3),key:"par-".concat(a,"-").concat(n)},r.a.createElement("article",{className:"tile is-child box"},r.a.createElement("p",{className:"subtitle is-5"},r.a.createElement("b",null,e.Title)),r.a.createElement("p",{className:"subtitle is-6"},e.Type,", ",e.Year,", ",e.imdbID),r.a.createElement("figure",{className:"image is-3by4"},r.a.createElement("img",{src:e.Poster,alt:e.Title})),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-info",onClick:function(a){t.props.onAddToWatchlist(e)}},"Add to watchlist")))}))})))}}]),t}(n.Component),N=Object(s.b)(function(e){return{keyword:e.keyword,result:e.result}},function(e){return{onDispatchSearch:function(t){return e(function(e){return{type:h,keyword:e}}(t))},onAddToWatchlist:function(t){return e(function(e){return{type:f,item:e}}(t))}}})(k),g=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.store.dispatch({type:y})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(O,null),r.a.createElement(j,null),r.a.createElement(N,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(22),D=a(17),x={keyword:"",result:[],watchlist:[]};var R=a(9),S=a.n(R),A=a(6),C=S.a.mark(_),I=S.a.mark(L),W=S.a.mark(F);function _(e){var t,a,n;return S.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t="http://www.omdbapi.com/?apikey=2dd23c8d&s=".concat(e.keyword),r.next=3,Object(A.b)(fetch,t);case 3:return a=r.sent,r.next=6,a.json();case 6:return n=r.sent,r.next=9,Object(A.c)((c=n.Search,{type:b,result:c}));case 9:case"end":return r.stop()}var c},C,this)}function L(){var e;return S.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.d)(function(e){return e.watchlist});case 2:e=t.sent,localStorage.setItem("omdbsw",JSON.stringify(e));case 4:case"end":return t.stop()}},I,this)}function F(){return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.a)([Object(A.e)(h,_),Object(A.e)(f,L),Object(A.e)(w,L)]);case 2:case"end":return e.stop()}},W,this)}var M=Object(o.a)(),B=Object(i.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(D.a)({},e,{keyword:t.keyword});case b:return Object(D.a)({},e,{result:t.result});case f:return Object(D.a)({},e,{watchlist:[].concat(Object(T.a)(e.watchlist),[t.item])});case w:var a=Object(T.a)(e.watchlist);return a.splice(t.index,1),Object(D.a)({},e,{watchlist:a});case y:try{if(!(a=JSON.parse(localStorage.getItem("omdbsw"))))return e}catch(n){return e}return Object(D.a)({},e,{watchlist:a});default:return e}},Object(i.a)(M));M.run(F),l.a.render(r.a.createElement(s.a,{store:B},r.a.createElement(g,{store:B})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.f935a4e3.chunk.js.map